{"version":3,"sources":["webpack:///webpack/bootstrap a934c8ce4ef145e364f0","webpack:///./public/js/priceSubscription.js","webpack:///./node_modules/long/src/long.js"],"names":["long","refIdCounter","priceSubscription","authTokenElm","document","getElementsByClassName","tokenSubmitTextElm","reSubmitTextElm","subscribeButtonElm","subscriptionDataElm","reconnectionDataElm","handleTokenSubmit","bind","parseMessages","checkControlMessages","IsControlMessage","resetSubscription","handleSubscribePrices","handleDisconnection","handleReconnection","authorizeToken","contextIdElem","referenceIdElem","newAccessTokenElem","newTokenStatus","lastReceivedMessageId","messageIDArray","priceSubscriptionUrl","webSocketConnectionUrl","webSocketAuthorizationUrl","e","preventDefault","handleConnection","connectionUrl","self","accessToken","value","trim","contextId","length","connection","WebSocket","binaryType","onopen","webSocket","innerHTML","classList","remove","tokenDummyExpiryTime","Date","now","authorizeWhenNeeded","onerror","error","console","log","add","onmessage","message","data","ArrayBuffer","messageResults","forEach","messageResult","push","messageId","onclose","event","code","tokenExpiryTime","tokenExpiryTimeOneMinuteBefore","checkExpiryHandle","setTimeout","checkExpiry","refreshedToken","newAccessToken","then","successMessage","clearTimeout","catch","reason","parsedMessage","referenceId","startsWith","heartBeatMessage","controlMessage","payload","JSON","parse","ReferenceId","targetReferenceIds","deleteSubscription","referenceIds","deleteSubscriptionUrl","xhttp","XMLHttpRequest","onreadystatechange","status","responseText","open","setRequestHeader","send","refId","subscriptionData","stringify","baseRefId","subscribePrice","getNextRefId","dataElm","index","messages","byteLength","DataView","fromBytesLE","Uint8Array","toString","reservedField","getInt16","referenceIdSize","getInt8","referenceIdBuffer","Int8Array","slice","String","fromCharCode","apply","payloadFormat","getUint8","payloadSize","getUint32","payloadBuffer","prettyPrint","close","connection2","ws","messagesParsed","messageParsed","subscriptionUrl","Promise","resolve","reject","statusText","obj","subscribePrices","window","module","exports","Long","wasm","WebAssembly","Instance","Module","low","high","unsigned","prototype","__isLong__","Object","defineProperty","isLong","INT_CACHE","UINT_CACHE","fromInt","cachedObj","cache","fromBits","fromNumber","isNaN","UZERO","ZERO","TWO_PWR_64_DBL","MAX_UNSIGNED_VALUE","TWO_PWR_63_DBL","MIN_VALUE","MAX_VALUE","neg","TWO_PWR_32_DBL","lowBits","highBits","pow_dbl","Math","pow","fromString","str","radix","Error","RangeError","p","indexOf","substring","radixToPower","result","i","size","min","parseInt","power","mul","fromValue","val","TWO_PWR_16_DBL","TWO_PWR_24_DBL","TWO_PWR_24","ONE","UONE","NEG_ONE","LongPrototype","toInt","toNumber","isZero","isNegative","eq","radixLong","div","rem1","sub","rem","remDiv","intval","digits","getHighBits","getHighBitsUnsigned","getLowBits","getLowBitsUnsigned","getNumBitsAbs","bit","eqz","isPositive","isOdd","isEven","equals","other","notEquals","neq","ne","lessThan","comp","lt","lessThanOrEqual","lte","le","greaterThan","gt","greaterThanOrEqual","gte","ge","compare","thisNeg","otherNeg","negate","not","addend","a48","a32","a16","a00","b48","b32","b16","b00","c48","c32","c16","c00","subtract","subtrahend","multiply","multiplier","get_high","divide","divisor","div_u","div_s","approx","res","halfThis","shr","shl","toUnsigned","shru","max","floor","log2","ceil","LN2","delta","approxRes","approxRem","modulo","rem_u","rem_s","mod","and","or","xor","shiftLeft","numBits","shiftRight","shiftRightUnsigned","shr_u","toSigned","toBytes","toBytesLE","toBytesBE","hi","lo","fromBytes","bytes","fromBytesBE"],"mappings":"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CAAe,CACpE,CADoE,EACjE,EADiE,EAC7D,GAD6D,EACxD,GADwD,EACnD,CADmD,EAChD,CADgD,EAC7C,CAD6C,EAC1C,CAD0C,EACvC,CADuC,EACpC,EADoC,EAChC,CADgC,EAC7B,EAD6B,EACzB,CADyB,EACtB,CADsB,EACnB,GADmB,EACd,EADc,EACV,CADU,EACP,GADO,EACF,GADE,EACG,GADH,EACQ,GADR,EACa,CADb,EACgB,GADhB,EACqB,CADrB,EACwB,CADxB,EAC2B,CAD3B,EAC8B,CAD9B,EACiC,CADjC,EACoC,CADpC,EACuC,CADvC,EAC0C,CAD1C,EAC6C,CAD7C,EACgD,CADhD,EACmD,CADnD,EACsD,CADtD,EACyD,GADzD,EAC8D,CAD9D,EACiE,EADjE,EACqE,CADrE,EACwE,EADxE,EAC4E,CAD5E,EAC+E,EAD/E,EACmF,CADnF,EACsF,CADtF,EACyF,GADzF,EAC8F,GAD9F,EACmG,GADnG,EACwG,CADxG,EAC2G,CAD3G,EAC8G,CAD9G,EACiH,GADjH,EACsH,GADtH,EAC2H,GAD3H,EACgI,EADhI,EACoI,GADpI,EACyI,CADzI,EAC4I,CAD5I,EAC+I,CAD/I,EACkJ,GADlJ,EACuJ,GADvJ,EAC4J,GAD5J,EACiK,EADjK,EACqK,GADrK,EAC0K,CAD1K,EAC6K,CAD7K,EACgL,CADhL,EACmL,GADnL,EACwL,GADxL,EAC6L,GAD7L,EACkM,EADlM,EACsM,GADtM,EAC2M,CAD3M,EAC8M,CAD9M,EACiN,CADjN,EACoN,GADpN,EACyN,GADzN,EAC8N,GAD9N,EACmO,EADnO,EACuO,GADvO,EAC4O,CAD5O,EAC+O,CAD/O,EACkP,CADlP,EACqP,GADrP,EAC0P,GAD1P,EAC+P,GAD/P,EACoQ,EADpQ,EACwQ,GADxQ,EAC6Q,GAD7Q,EACkR,GADlR,EACuR,GADvR,EAC4R,CAD5R,EAC+R,CAD/R,EACkS,EADlS,EACsS,GADtS,EAC2S,CAD3S,EAC8S,CAD9S,EACiT,CADjT,EACoT,CADpT,EACuT,EADvT,EAC2T,CAD3T,EAC8T,EAD9T,EACkU,EADlU,EACsU,CADtU,EACyU,CADzU,EAC4U,GAD5U,EACiV,EADjV,EACqV,CADrV,EACwV,GADxV,EAC6V,EAD7V,EACiW,CADjW,EACoW,GADpW,EACyW,EADzW,EAC6W,EAD7W,EACiX,GADjX,EACsX,GADtX,EAC2X,EAD3X,EAC+X,CAD/X,EACkY,GADlY,EACuY,EADvY,EAC2Y,CAD3Y,EAC8Y,GAD9Y,EACmZ,EADnZ,EACuZ,EADvZ,EAC2Z,GAD3Z,EACga,GADha,EACqa,GADra,EAC0a,EAD1a,EAC8a,CAD9a,EACib,EADjb,EACqb,EADrb,EACyb,GADzb,EAC8b,GAD9b,EACmc,EADnc,EACuc,CADvc,EAC0c,EAD1c,EAC8c,CAD9c,EACid,GADjd,EACsd,EADtd,EAC0d,EAD1d,EAC8d,CAD9d,EACie,CADje,EACoe,GADpe,EACye,EADze,EAC6e,CAD7e,EACgf,GADhf,EACqf,EADrf,EACyf,CADzf,EAC4f,GAD5f,EACigB,EADjgB,EACqgB,EADrgB,EACygB,GADzgB,EAC8gB,GAD9gB,EACmhB,EADnhB,EACuhB,CADvhB,EAC0hB,GAD1hB,EAC+hB,EAD/hB,EACmiB,CADniB,EACsiB,GADtiB,EAC2iB,EAD3iB,EAC+iB,EAD/iB,EACmjB,GADnjB,EACwjB,GADxjB,EAC6jB,GAD7jB,EACkkB,EADlkB,EACskB,CADtkB,EACykB,EADzkB,EAC6kB,EAD7kB,EACilB,GADjlB,EACslB,GADtlB,EAC2lB,EAD3lB,EAC+lB,CAD/lB,EACkmB,EADlmB,EACsmB,CADtmB,EACymB,GADzmB,EAC8mB,EAD9mB,EACknB,EADlnB,EACsnB,CADtnB,EACynB,CADznB,EAC4nB,GAD5nB,EACioB,EADjoB,EACqoB,CADroB,EACwoB,GADxoB,EAC6oB,EAD7oB,EACipB,CADjpB,EACopB,GADppB,EACypB,EADzpB,EAC6pB,EAD7pB,EACiqB,GADjqB,EACsqB,GADtqB,EAC2qB,EAD3qB,EAC+qB,CAD/qB,EACkrB,GADlrB,EACurB,EADvrB,EAC2rB,CAD3rB,EAC8rB,GAD9rB,EACmsB,EADnsB,EACusB,EADvsB,EAC2sB,GAD3sB,EACgtB,GADhtB,EACqtB,GADrtB,EAC0tB,EAD1tB,EAC8tB,CAD9tB,EACiuB,EADjuB,EACquB,EADruB,EACyuB,GADzuB,EAC8uB,GAD9uB,EACmvB,EADnvB,EACuvB,CADvvB,EAC0vB,EAD1vB,EAC8vB,CAD9vB,EACiwB,GADjwB,EACswB,EADtwB,EAC0wB,EAD1wB,EAC8wB,CAD9wB,EACixB,CADjxB,EACoxB,GADpxB,EACyxB,EADzxB,EAC6xB,CAD7xB,EACgyB,GADhyB,EACqyB,EADryB,EACyyB,CADzyB,EAC4yB,GAD5yB,EACizB,EADjzB,EACqzB,EADrzB,EACyzB,GADzzB,EAC8zB,GAD9zB,EACm0B,EADn0B,EACu0B,CADv0B,EAC00B,GAD10B,EAC+0B,EAD/0B,EACm1B,CADn1B,EACs1B,GADt1B,EAC21B,EAD31B,EAC+1B,EAD/1B,EACm2B,GADn2B,EACw2B,GADx2B,EAC62B,GAD72B,EACk3B,EADl3B,EACs3B,CADt3B,EACy3B,EADz3B,EAC63B,EAD73B,EACi4B,GADj4B,EACs4B,GADt4B,EAC24B,EAD34B,EAC+4B,CAD/4B,EACk5B,EADl5B,EACs5B,CADt5B,EACy5B,GADz5B,EAC85B,EAD95B,EACk6B,EADl6B,EACs6B,CADt6B,EACy6B,CADz6B,EAC46B,GAD56B,EACi7B,EADj7B,EACq7B,CADr7B,EACw7B,GADx7B,EAC67B,EAD77B,EACi8B,CADj8B,EACo8B,GADp8B,EACy8B,EADz8B,EAC68B,EAD78B,EACi9B,GADj9B,EACs9B,GADt9B,EAC29B,EAD39B,EAC+9B,CAD/9B,EACk+B,GADl+B,EACu+B,EADv+B,EAC2+B,CAD3+B,EAC8+B,GAD9+B,EACm/B,EADn/B,EACu/B,EADv/B,EAC2/B,GAD3/B,EACggC,GADhgC,EACqgC,GADrgC,EAC0gC,EAD1gC,EAC8gC,CAD9gC,EACihC,EADjhC,EACqhC,EADrhC,EACyhC,GADzhC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","file":"main.bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap a934c8ce4ef145e364f0","import * as long from 'long';\r\n\r\nvar refIdCounter = 0;\r\n\r\nclass priceSubscription {\r\n    constructor() {\r\n        this.authTokenElm = document.getElementsByClassName('js-auth-token')[0];\r\n        this.tokenSubmitTextElm = document.getElementsByClassName('token-submit')[0];\r\n        this.reSubmitTextElm = document.getElementsByClassName('resubmit-status')[0];\r\n        this.subscribeButtonElm = document.getElementsByClassName('js-btn-subscribe')[0];\r\n        this.subscriptionDataElm = document.getElementsByClassName('js-snapshot')[0];\r\n        this.reconnectionDataElm = document.getElementsByClassName('js-snapshot-reconnect')[0];\r\n        this.handleTokenSubmit = this.handleTokenSubmit.bind(this);\r\n        this.parseMessages = this.parseMessages.bind(this);\r\n        this.checkControlMessages = this.checkControlMessages.bind(this);\r\n        this.IsControlMessage = this.IsControlMessage.bind(this);\r\n        this.resetSubscription = this.resetSubscription.bind(this);\r\n        this.handleSubscribePrices = this.handleSubscribePrices.bind(this);\r\n        this.handleDisconnection = this.handleDisconnection.bind(this);\r\n        this.handleReconnection = this.handleReconnection.bind(this);\r\n        this.authorizeToken = this.authorizeToken.bind(this);\r\n        this.contextIdElem = document.getElementsByClassName('js-ctx-id')[0];\r\n        this.referenceIdElem = document.getElementsByClassName('js-refId')[0];\r\n        this.newAccessTokenElem = document.getElementsByClassName('js-newToken')[0];\r\n        this.newTokenStatus = document.getElementsByClassName('newToken-status')[0];\r\n        this.lastReceivedMessageId = \"\";\r\n        this.messageIDArray = [];\r\n        this.priceSubscriptionUrl = \"https://gateway.saxobank.com/sim/openapi/trade/v1/prices/subscriptions\";\r\n        this.webSocketConnectionUrl = \"wss://streaming.saxobank.com/sim/openapi/streamingws/connect\";\r\n        this.webSocketAuthorizationUrl = \"https://streaming.saxobank.com/sim/openapi/streamingws/authorize\";\r\n    }\r\n\r\n    handleTokenSubmit(e) {\r\n        e.preventDefault();\r\n        this.handleConnection();\r\n    }\r\n    handleConnection() {\r\n        let connectionUrl;\r\n        let self = this;\r\n        this.accessToken = this.authTokenElm.value.trim();\r\n        this.contextId = this.contextIdElem.value.trim();\r\n        if (this.accessToken) {\r\n            if (this.messageIDArray.length > 0) {\r\n                connectionUrl = this.webSocketConnectionUrl + \"?contextId=\" + this.contextId + \"&Authorization=BEARER%20\" + this.accessToken + \"&messageid=\" + this.lastReceivedMessageId;\r\n            }\r\n            else {\r\n                connectionUrl = this.webSocketConnectionUrl + \"?contextId=\" + this.contextId + \"&Authorization=BEARER%20\" + this.accessToken;\r\n            }\r\n            let connection = new WebSocket(connectionUrl);\r\n            connection.binaryType = \"arraybuffer\";\r\n            connection.onopen = function (webSocket) {\r\n                // connection is opened and ready to use\r\n                self.tokenSubmitTextElm.innerHTML = 'connection created';\r\n                self.subscribeButtonElm.classList.remove('disabled');\r\n                self.connection = connection;\r\n                //After creation of connection we are authorizing the token if it is expired or not.\r\n                //Start a task to renew the token when neeeded. If we don't do this the connection will be terminated once the token expires.\r\n                self.tokenDummyExpiryTime = Date.now() + (2 * 60 * 60 * 1000);\r\n                //Here you need to provide the correct expiry time for the token. This is just a dummy value of 2 hrs.\r\n                self.authorizeWhenNeeded(self.tokenDummyExpiryTime);\r\n            };\r\n            connection.onerror = function (error) {\r\n                // an error occurred when sending/receiving data\r\n                console.log(error);\r\n                self.subscribeButtonElm.classList.add('disabled');\r\n                self.tokenSubmitTextElm.innerHTML = \"Couldn't create connection\";\r\n            };\r\n\r\n            connection.onmessage = function (message) {\r\n                if (message.data instanceof ArrayBuffer) {\r\n                    var messageResults = self.parseMessages(message.data, self.subscriptionDataElm);\r\n\r\n                    console.log('Number of received messages in frame: ', messageResults.length);\r\n\r\n                    messageResults.forEach(function(messageResult) {\r\n                        if (self.IsControlMessage(messageResult)) {\r\n                            self.checkControlMessages(messageResult);\r\n                        }\r\n                        else {\r\n                            console.log(\"Messages successfully delivered: \", messageResult);\r\n                            self.messageIDArray.push(messageResult.messageId);\r\n                            self.lastReceivedMessageId = messageResult.messageId;\r\n                        }\r\n                    });\r\n                }\r\n                else if (typeof message.data === 'string') {\r\n                    self.handleDisconnection(1000, \"Policy Violated .GoodBye!\");\r\n                    console.log(\"Closing connection - Reason: received a text frame.\");\r\n                }\r\n            };\r\n            connection.onclose = function (event) {\r\n                if (event.code === 1001) {\r\n                    console.log(\"Server is going away! We will try to reconnect\");\r\n                    self.handleConnection();\r\n                } else {\r\n                    console.log(\"Normal Closure\");\r\n                    self.tokenSubmitTextElm.innerHTML = \"Connection Closed\";\r\n                    self.messageIDArray=[];\r\n                }\r\n            };\r\n        }\r\n        else {\r\n            this.tokenSubmitTextElm.innerHTML = \"Please Enter valid access token\";\r\n        }\r\n    }\r\n\r\n    authorizeWhenNeeded(tokenExpiryTime) {\r\n        var self = this;\r\n        var tokenExpiryTimeOneMinuteBefore = tokenExpiryTime - Date.now() - 60000;\r\n        var checkExpiryHandle = setTimeout(checkExpiry, tokenExpiryTimeOneMinuteBefore);\r\n        function checkExpiry() {\r\n            console.log(\"Token \" + self.accessToken + \"expired\");\r\n            var refreshedToken = self.newAccessToken || \"<refreshedToken>\";\r\n            self.authorizeToken(refreshedToken).then((successMessage) => {\r\n                console.log(\"New Token Authorized \", successMessage);\r\n                // Getting new dummy expiry time  for token .Taking two hours as dummy\r\n                self.tokenDummyExpiryTime = Date.now() + (2 * 60 * 60 * 1000);\r\n                clearTimeout(checkExpiryHandle);\r\n                self.authorizeWhenNeeded(self.tokenDummyExpiryTime);\r\n            }).catch((reason) => {\r\n                console.log(\"New Token not authorized with reason\", reason);\r\n                self.handleDisconnection(1000, \"Token has expired.Hence Closing\");\r\n            });\r\n        }\r\n    }\r\n\r\n    IsControlMessage(parsedMessage) {\r\n        return parsedMessage.referenceId.startsWith(\"_\");\r\n    }\r\n\r\n    checkControlMessages(parsedMessage) {\r\n        if (!parsedMessage.referenceId.startsWith(\"_\")) {\r\n            console.log(\"Message With\" + parsedMessage.messageId + \"with reference id \" + parsedMessage.referenceId + \" is not a Control Message\");\r\n        }\r\n        switch (parsedMessage.referenceId) {\r\n            case \"_heartbeat\":\r\n                // HeartBeat messages indicate that no new data is available. You do not need to do anything\r\n                var heartBeatMessage = parsedMessage;\r\n                console.log(\"HeartBeat control message received\", heartBeatMessage);\r\n                break;\r\n            case \"_resetsubscriptions\":\r\n                // Server is not able to send messages and client needs to reset subscriptions by recreating them\r\n                console.log(\"Reset Susbcription Control messsage received\", parsedMessage);\r\n                // reset subscription\r\n                this.resetSubscription(parsedMessage);\r\n                break;\r\n            case \"_disconnect\":\r\n                // The server has disconnected the client.This messages requires This messages requires you to reauthenticate\r\n                // if you wish to continue receiving messages.We stop the websocket here.\r\n                this.handleDisconnection(1000, \"Server Disconnected\");\r\n                break;\r\n            default:\r\n                console.log(\"Control Message with unknown referenceId is shown \" + parsedMessage.referenceId);\r\n        }\r\n    }\r\n\r\n    resetSubscription(controlMessage) {\r\n        var payload = JSON.parse(controlMessage.payload);\r\n        var referenceId = payload.ReferenceId;\r\n        var targetReferenceIds = payload.targetReferenceIds;\r\n        // Delete the subscriptions the server tells us need to be reconnected.\r\n        try {\r\n            this.deleteSubscription(targetReferenceIds);\r\n        }\r\n        catch (e) {\r\n            console.log(\"Error in deleting subscription\", e);\r\n            return;\r\n        }\r\n        // Next create the subscription again.\r\n        // You should keep track of a list of your subscriptions so you know which ones you have to recreate.\r\n        // Here we only have one subscription to illustrate the point.\r\n        this.handleSubscribePrices();\r\n    }\r\n\r\n    deleteSubscription(referenceIds) {\r\n        // Here we are deleting the subscription for all the referenceIds passed.\r\n        // But in this implementation only one subscription exists.\r\n        let deleteSubscriptionUrl = this.priceSubscriptionUrl + \"/\" + this.contextId + \"/\" + this.referenceIdElem.value.trim();\r\n        let xhttp = new XMLHttpRequest();\r\n        xhttp.onreadystatechange = function () {\r\n            if (this.status === 201) {\r\n                console.log(\"Subscription Deleted\");\r\n                console.log(this.responseText);\r\n            }\r\n        };\r\n        xhttp.onerror = function () {\r\n            console.log(\"An error occurred during the http request\");\r\n        };\r\n        xhttp.open(\"DELETE\", deleteSubscriptionUrl, true);\r\n        xhttp.setRequestHeader(\"Authorization\", \"BEARER \" + this.accessToken);\r\n        xhttp.send();\r\n    }\r\n\r\n    subscribePrice(refId) {\r\n        let data = {\r\n            \"Arguments\": {\r\n                \"Uic\": 21,\r\n                \"AssetType\": \"FxSpot\"\r\n            },\r\n            \"ContextId\": this.contextId,\r\n            \"ReferenceId\": refId\r\n        };\r\n\r\n        let subscriptionData = JSON.stringify(data);\r\n        let xhttp = new XMLHttpRequest();\r\n        xhttp.onreadystatechange = function () {\r\n            if (this.status === 201) {\r\n                console.log(this.responseText);\r\n            }\r\n        };\r\n        xhttp.onerror = function () {\r\n            console.log(\" An error occurred during the http request\");\r\n        };\r\n        xhttp.open(\"POST\", this.priceSubscriptionUrl, true);\r\n        xhttp.setRequestHeader(\"Authorization\", \"BEARER \" + this.accessToken);\r\n        xhttp.setRequestHeader(\"Content-Type\", \"application/json\");\r\n        xhttp.send(subscriptionData);\r\n    }\r\n\r\n    getNextRefId(refId) {\r\n        return refId + ++refIdCounter;\r\n    }\r\n\r\n    handleSubscribePrices(refId) {\r\n        if (this.accessToken) {\r\n            var baseRefId = refId || this.referenceIdElem.value.trim();\r\n\r\n            // Creating 3 subscription to test response updates contains 3 messages in one websocket frame.\r\n            this.subscribePrice(baseRefId);\r\n            this.subscribePrice(this.getNextRefId(baseRefId));\r\n            this.subscribePrice(this.getNextRefId(baseRefId));\r\n        } else {\r\n            this.tokenSubmitTextElm.innerHTML = \"Please Enter Access Token\";\r\n        }\r\n    }\r\n\r\n    parseMessages(data, dataElm) {\r\n        let index = 0;\r\n\r\n        let messages = [];\r\n\r\n        while (index < data.byteLength)\r\n        {\r\n            let message = new DataView(data);\r\n            // First 8 bytes make up the message id. A 64 bit integer.\r\n            let messageId = long.fromBytesLE(new Uint8Array(data, 0, 8)).toString();\r\n            index += 8;\r\n            // 2 bytes make up the reserved field.This field is reserved for future use and it should be ignored by the client.\r\n            let reservedField = message.getInt16(index);\r\n            index += 2;\r\n            // 1 byte makes up the reference id length as an 8 bit integer. The reference id has a max length og 50 chars.\r\n            let referenceIdSize = message.getInt8(index);\r\n            index += 1;\r\n            // n bytes make up the reference id. The reference id is an ASCII string.\r\n            let referenceIdBuffer = new Int8Array(data.slice(index, index + referenceIdSize));\r\n            let referenceId = String.fromCharCode.apply(String, referenceIdBuffer);\r\n            index += referenceIdSize;\r\n            // 1 byte makes up the payload format. The value 0 indicates that the payload format is Json.\r\n            let payloadFormat = message.getUint8(index);\r\n            index++;\r\n            // 4 bytes make up the payload length as a 32 bit integer.\r\n            let payloadSize = message.getUint32(index, true);\r\n            index += 4;\r\n            // n bytes make up the actual payload. In the case of the payload format being Json, this is a UTF8 encoded string.\r\n            let payloadBuffer = new Int8Array(data.slice(index, index + payloadSize));\r\n            let payload;\r\n            if (!payloadFormat) {\r\n                payload = String.fromCharCode.apply(String, payloadBuffer);\r\n                dataElm.innerHTML = this.prettyPrint(JSON.parse(payload));\r\n            }\r\n\r\n            index += payloadSize;\r\n\r\n            messages[messages.length] = {\r\n                    messageId,\r\n                    reservedField,\r\n                    referenceId,\r\n                    payloadFormat,\r\n                    payload\r\n                };\r\n        }\r\n\r\n        return messages;\r\n\r\n    }\r\n\r\n    handleDisconnection(code, reason) {\r\n        // Closing the connection by closing the socket\r\n        this.connection.close(code || 1000, reason || \"Normal Closure\");\r\n        console.log(\"Connection is closed  with \" + code + \" with \" + reason);\r\n    }\r\n\r\n    handleReconnection() {\r\n        let self = this;\r\n        if (this.accessToken) {\r\n            let connectionUrl = this.webSocketConnectionUrl + \"?contextId=\" + this.contextId + \"&Authorization=BEARER%20\" + this.accessToken + \"&messageId=\" + this.lastReceivedMessageId;\r\n            this.connection2 = new WebSocket(connectionUrl);\r\n            this.connection2.binaryType = \"arraybuffer\";\r\n            this.connection2.onopen = function (ws) {\r\n                // connection is opened and ready to use\r\n                self.reSubmitTextElm.innerHTML = 'Reconnection created';\r\n            };\r\n            this.connection2.onerror = function (error) {\r\n                // an error occurred when sending/receiving data\r\n                console.log(error);\r\n                self.reSubmitTextElm.innerHTML = \"Couldn't create Reconnection\";\r\n            };\r\n            this.connection2.onmessage = function (message) {\r\n                if (message.data instanceof ArrayBuffer) {\r\n                    var messagesParsed = self.parseMessages(message.data, self.reconnectionDataElm);\r\n                    console.log('Number of received messages in frame: ', messagesParsed.length);\r\n\r\n                    messagesParsed.forEach(function(messageParsed) {\r\n                        console.log(messageParsed);\r\n                    });\r\n                }\r\n            };\r\n        }\r\n    }\r\n\r\n    authorizeToken(refreshedToken) {\r\n        let self = this;\r\n        this.newAccessToken = refreshedToken || this.newAccessTokenElem.value.trim();\r\n        const subscriptionUrl = this.webSocketAuthorizationUrl + \"?contextId=\" + this.contextId;\r\n        return new Promise((resolve, reject) => {\r\n            let xhttp = new XMLHttpRequest();\r\n            xhttp.open(\"PUT\", subscriptionUrl, true);\r\n            xhttp.setRequestHeader(\"Authorization\", \"BEARER \" + this.newAccessToken);\r\n            xhttp.setRequestHeader(\"Content-Type\", \"application/json\");\r\n            xhttp.onreadystatechange = function () {\r\n                if (this.status === 202) {\r\n                    self.newTokenStatus.innerHTML = \"New Token is Valid\";\r\n                    self.accessToken = self.newAccessToken;\r\n                    resolve(this.responseText);\r\n                }\r\n                else if (this.status === 400) {\r\n                    self.newTokenStatus.innerHTML = \"ContextId and AccessToken Missing\";\r\n                    reject(this.statusText);\r\n                }\r\n                else if (this.status === 401) {\r\n                    self.newTokenStatus.innerHTML = \"Access Token is not valid\";\r\n                    reject(this.statusText);\r\n                }\r\n            };\r\n            xhttp.onerror = function () {\r\n                console.log(\" An error occurred during the http request\");\r\n                reject(this.statusText);\r\n            };\r\n            xhttp.send();\r\n        }\r\n        );\r\n    }\r\n\r\n    prettyPrint(obj) {\r\n        if (!obj) {\r\n            return '';\r\n        }\r\n        return JSON.stringify(obj, null, 3);\r\n    }\r\n}\r\n// creating a new instance of class to expose handlers to html\r\nconst subscribePrices = new priceSubscription();\r\nwindow.subscribePrices = subscribePrices;\r\n\n\n\n// WEBPACK FOOTER //\n// ./public/js/priceSubscription.js","module.exports = Long;\r\n\r\n/**\r\n * wasm optimizations, to do native i64 multiplication and divide\r\n */\r\nvar wasm = null;\r\n\r\ntry {\r\n  wasm = new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([\r\n    0, 97, 115, 109, 1, 0, 0, 0, 1, 13, 2, 96, 0, 1, 127, 96, 4, 127, 127, 127, 127, 1, 127, 3, 7, 6, 0, 1, 1, 1, 1, 1, 6, 6, 1, 127, 1, 65, 0, 11, 7, 50, 6, 3, 109, 117, 108, 0, 1, 5, 100, 105, 118, 95, 115, 0, 2, 5, 100, 105, 118, 95, 117, 0, 3, 5, 114, 101, 109, 95, 115, 0, 4, 5, 114, 101, 109, 95, 117, 0, 5, 8, 103, 101, 116, 95, 104, 105, 103, 104, 0, 0, 10, 191, 1, 6, 4, 0, 35, 0, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 126, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 127, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 128, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 129, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11, 36, 1, 1, 126, 32, 0, 173, 32, 1, 173, 66, 32, 134, 132, 32, 2, 173, 32, 3, 173, 66, 32, 134, 132, 130, 34, 4, 66, 32, 135, 167, 36, 0, 32, 4, 167, 11\r\n  ])), {}).exports;\r\n} catch (e) {\r\n  // no wasm support :(\r\n}\r\n\r\n/**\r\n * Constructs a 64 bit two's-complement integer, given its low and high 32 bit values as *signed* integers.\r\n *  See the from* functions below for more convenient ways of constructing Longs.\r\n * @exports Long\r\n * @class A Long class for representing a 64 bit two's-complement integer value.\r\n * @param {number} low The low (signed) 32 bits of the long\r\n * @param {number} high The high (signed) 32 bits of the long\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @constructor\r\n */\r\nfunction Long(low, high, unsigned) {\r\n\r\n    /**\r\n     * The low 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.low = low | 0;\r\n\r\n    /**\r\n     * The high 32 bits as a signed value.\r\n     * @type {number}\r\n     */\r\n    this.high = high | 0;\r\n\r\n    /**\r\n     * Whether unsigned or not.\r\n     * @type {boolean}\r\n     */\r\n    this.unsigned = !!unsigned;\r\n}\r\n\r\n// The internal representation of a long is the two given signed, 32-bit values.\r\n// We use 32-bit pieces because these are the size of integers on which\r\n// Javascript performs bit-operations.  For operations like addition and\r\n// multiplication, we split each number into 16 bit pieces, which can easily be\r\n// multiplied within Javascript's floating-point representation without overflow\r\n// or change in sign.\r\n//\r\n// In the algorithms below, we frequently reduce the negative case to the\r\n// positive case by negating the input(s) and then post-processing the result.\r\n// Note that we must ALWAYS check specially whether those values are MIN_VALUE\r\n// (-2^63) because -MIN_VALUE == MIN_VALUE (since 2^63 cannot be represented as\r\n// a positive number, it overflows back into a negative).  Not handling this\r\n// case would often result in infinite recursion.\r\n//\r\n// Common constant values ZERO, ONE, NEG_ONE, etc. are defined below the from*\r\n// methods on which they depend.\r\n\r\n/**\r\n * An indicator used to reliably determine if an object is a Long or not.\r\n * @type {boolean}\r\n * @const\r\n * @private\r\n */\r\nLong.prototype.__isLong__;\r\n\r\nObject.defineProperty(Long.prototype, \"__isLong__\", { value: true });\r\n\r\n/**\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n * @inner\r\n */\r\nfunction isLong(obj) {\r\n    return (obj && obj[\"__isLong__\"]) === true;\r\n}\r\n\r\n/**\r\n * Tests if the specified object is a Long.\r\n * @function\r\n * @param {*} obj Object\r\n * @returns {boolean}\r\n */\r\nLong.isLong = isLong;\r\n\r\n/**\r\n * A cache of the Long representations of small integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar INT_CACHE = {};\r\n\r\n/**\r\n * A cache of the Long representations of small unsigned integer values.\r\n * @type {!Object}\r\n * @inner\r\n */\r\nvar UINT_CACHE = {};\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromInt(value, unsigned) {\r\n    var obj, cachedObj, cache;\r\n    if (unsigned) {\r\n        value >>>= 0;\r\n        if (cache = (0 <= value && value < 256)) {\r\n            cachedObj = UINT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, (value | 0) < 0 ? -1 : 0, true);\r\n        if (cache)\r\n            UINT_CACHE[value] = obj;\r\n        return obj;\r\n    } else {\r\n        value |= 0;\r\n        if (cache = (-128 <= value && value < 128)) {\r\n            cachedObj = INT_CACHE[value];\r\n            if (cachedObj)\r\n                return cachedObj;\r\n        }\r\n        obj = fromBits(value, value < 0 ? -1 : 0, false);\r\n        if (cache)\r\n            INT_CACHE[value] = obj;\r\n        return obj;\r\n    }\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given 32 bit integer value.\r\n * @function\r\n * @param {number} value The 32 bit integer in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromInt = fromInt;\r\n\r\n/**\r\n * @param {number} value\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromNumber(value, unsigned) {\r\n    if (isNaN(value))\r\n        return unsigned ? UZERO : ZERO;\r\n    if (unsigned) {\r\n        if (value < 0)\r\n            return UZERO;\r\n        if (value >= TWO_PWR_64_DBL)\r\n            return MAX_UNSIGNED_VALUE;\r\n    } else {\r\n        if (value <= -TWO_PWR_63_DBL)\r\n            return MIN_VALUE;\r\n        if (value + 1 >= TWO_PWR_63_DBL)\r\n            return MAX_VALUE;\r\n    }\r\n    if (value < 0)\r\n        return fromNumber(-value, unsigned).neg();\r\n    return fromBits((value % TWO_PWR_32_DBL) | 0, (value / TWO_PWR_32_DBL) | 0, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the given value, provided that it is a finite number. Otherwise, zero is returned.\r\n * @function\r\n * @param {number} value The number in question\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromNumber = fromNumber;\r\n\r\n/**\r\n * @param {number} lowBits\r\n * @param {number} highBits\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromBits(lowBits, highBits, unsigned) {\r\n    return new Long(lowBits, highBits, unsigned);\r\n}\r\n\r\n/**\r\n * Returns a Long representing the 64 bit integer that comes by concatenating the given low and high bits. Each is\r\n *  assumed to use 32 bits.\r\n * @function\r\n * @param {number} lowBits The low 32 bits\r\n * @param {number} highBits The high 32 bits\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromBits = fromBits;\r\n\r\n/**\r\n * @function\r\n * @param {number} base\r\n * @param {number} exponent\r\n * @returns {number}\r\n * @inner\r\n */\r\nvar pow_dbl = Math.pow; // Used 4 times (4*8 to 15+4)\r\n\r\n/**\r\n * @param {string} str\r\n * @param {(boolean|number)=} unsigned\r\n * @param {number=} radix\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromString(str, unsigned, radix) {\r\n    if (str.length === 0)\r\n        throw Error('empty string');\r\n    if (str === \"NaN\" || str === \"Infinity\" || str === \"+Infinity\" || str === \"-Infinity\")\r\n        return ZERO;\r\n    if (typeof unsigned === 'number') {\r\n        // For goog.math.long compatibility\r\n        radix = unsigned,\r\n        unsigned = false;\r\n    } else {\r\n        unsigned = !! unsigned;\r\n    }\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n\r\n    var p;\r\n    if ((p = str.indexOf('-')) > 0)\r\n        throw Error('interior hyphen');\r\n    else if (p === 0) {\r\n        return fromString(str.substring(1), unsigned, radix).neg();\r\n    }\r\n\r\n    // Do several (8) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 8));\r\n\r\n    var result = ZERO;\r\n    for (var i = 0; i < str.length; i += 8) {\r\n        var size = Math.min(8, str.length - i),\r\n            value = parseInt(str.substring(i, i + size), radix);\r\n        if (size < 8) {\r\n            var power = fromNumber(pow_dbl(radix, size));\r\n            result = result.mul(power).add(fromNumber(value));\r\n        } else {\r\n            result = result.mul(radixToPower);\r\n            result = result.add(fromNumber(value));\r\n        }\r\n    }\r\n    result.unsigned = unsigned;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Returns a Long representation of the given string, written using the specified radix.\r\n * @function\r\n * @param {string} str The textual representation of the Long\r\n * @param {(boolean|number)=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {number=} radix The radix in which the text is written (2-36), defaults to 10\r\n * @returns {!Long} The corresponding Long value\r\n */\r\nLong.fromString = fromString;\r\n\r\n/**\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val\r\n * @param {boolean=} unsigned\r\n * @returns {!Long}\r\n * @inner\r\n */\r\nfunction fromValue(val, unsigned) {\r\n    if (typeof val === 'number')\r\n        return fromNumber(val, unsigned);\r\n    if (typeof val === 'string')\r\n        return fromString(val, unsigned);\r\n    // Throws for non-objects, converts non-instanceof Long:\r\n    return fromBits(val.low, val.high, typeof unsigned === 'boolean' ? unsigned : val.unsigned);\r\n}\r\n\r\n/**\r\n * Converts the specified value to a Long using the appropriate from* function for its type.\r\n * @function\r\n * @param {!Long|number|string|!{low: number, high: number, unsigned: boolean}} val Value\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {!Long}\r\n */\r\nLong.fromValue = fromValue;\r\n\r\n// NOTE: the compiler should inline these constant values below and then remove these variables, so there should be\r\n// no runtime penalty for these.\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_16_DBL = 1 << 16;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24_DBL = 1 << 24;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_32_DBL = TWO_PWR_16_DBL * TWO_PWR_16_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_64_DBL = TWO_PWR_32_DBL * TWO_PWR_32_DBL;\r\n\r\n/**\r\n * @type {number}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_63_DBL = TWO_PWR_64_DBL / 2;\r\n\r\n/**\r\n * @type {!Long}\r\n * @const\r\n * @inner\r\n */\r\nvar TWO_PWR_24 = fromInt(TWO_PWR_24_DBL);\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ZERO = fromInt(0);\r\n\r\n/**\r\n * Signed zero.\r\n * @type {!Long}\r\n */\r\nLong.ZERO = ZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UZERO = fromInt(0, true);\r\n\r\n/**\r\n * Unsigned zero.\r\n * @type {!Long}\r\n */\r\nLong.UZERO = UZERO;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar ONE = fromInt(1);\r\n\r\n/**\r\n * Signed one.\r\n * @type {!Long}\r\n */\r\nLong.ONE = ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar UONE = fromInt(1, true);\r\n\r\n/**\r\n * Unsigned one.\r\n * @type {!Long}\r\n */\r\nLong.UONE = UONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar NEG_ONE = fromInt(-1);\r\n\r\n/**\r\n * Signed negative one.\r\n * @type {!Long}\r\n */\r\nLong.NEG_ONE = NEG_ONE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_VALUE = fromBits(0xFFFFFFFF|0, 0x7FFFFFFF|0, false);\r\n\r\n/**\r\n * Maximum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_VALUE = MAX_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MAX_UNSIGNED_VALUE = fromBits(0xFFFFFFFF|0, 0xFFFFFFFF|0, true);\r\n\r\n/**\r\n * Maximum unsigned value.\r\n * @type {!Long}\r\n */\r\nLong.MAX_UNSIGNED_VALUE = MAX_UNSIGNED_VALUE;\r\n\r\n/**\r\n * @type {!Long}\r\n * @inner\r\n */\r\nvar MIN_VALUE = fromBits(0, 0x80000000|0, false);\r\n\r\n/**\r\n * Minimum signed value.\r\n * @type {!Long}\r\n */\r\nLong.MIN_VALUE = MIN_VALUE;\r\n\r\n/**\r\n * @alias Long.prototype\r\n * @inner\r\n */\r\nvar LongPrototype = Long.prototype;\r\n\r\n/**\r\n * Converts the Long to a 32 bit integer, assuming it is a 32 bit integer.\r\n * @returns {number}\r\n */\r\nLongPrototype.toInt = function toInt() {\r\n    return this.unsigned ? this.low >>> 0 : this.low;\r\n};\r\n\r\n/**\r\n * Converts the Long to a the nearest floating-point representation of this value (double, 53 bit mantissa).\r\n * @returns {number}\r\n */\r\nLongPrototype.toNumber = function toNumber() {\r\n    if (this.unsigned)\r\n        return ((this.high >>> 0) * TWO_PWR_32_DBL) + (this.low >>> 0);\r\n    return this.high * TWO_PWR_32_DBL + (this.low >>> 0);\r\n};\r\n\r\n/**\r\n * Converts the Long to a string written in the specified radix.\r\n * @param {number=} radix Radix (2-36), defaults to 10\r\n * @returns {string}\r\n * @override\r\n * @throws {RangeError} If `radix` is out of range\r\n */\r\nLongPrototype.toString = function toString(radix) {\r\n    radix = radix || 10;\r\n    if (radix < 2 || 36 < radix)\r\n        throw RangeError('radix');\r\n    if (this.isZero())\r\n        return '0';\r\n    if (this.isNegative()) { // Unsigned Longs are never negative\r\n        if (this.eq(MIN_VALUE)) {\r\n            // We need to change the Long value before it can be negated, so we remove\r\n            // the bottom-most digit in this base and then recurse to do the rest.\r\n            var radixLong = fromNumber(radix),\r\n                div = this.div(radixLong),\r\n                rem1 = div.mul(radixLong).sub(this);\r\n            return div.toString(radix) + rem1.toInt().toString(radix);\r\n        } else\r\n            return '-' + this.neg().toString(radix);\r\n    }\r\n\r\n    // Do several (6) digits each time through the loop, so as to\r\n    // minimize the calls to the very expensive emulated div.\r\n    var radixToPower = fromNumber(pow_dbl(radix, 6), this.unsigned),\r\n        rem = this;\r\n    var result = '';\r\n    while (true) {\r\n        var remDiv = rem.div(radixToPower),\r\n            intval = rem.sub(remDiv.mul(radixToPower)).toInt() >>> 0,\r\n            digits = intval.toString(radix);\r\n        rem = remDiv;\r\n        if (rem.isZero())\r\n            return digits + result;\r\n        else {\r\n            while (digits.length < 6)\r\n                digits = '0' + digits;\r\n            result = '' + digits + result;\r\n        }\r\n    }\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as a signed integer.\r\n * @returns {number} Signed high bits\r\n */\r\nLongPrototype.getHighBits = function getHighBits() {\r\n    return this.high;\r\n};\r\n\r\n/**\r\n * Gets the high 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned high bits\r\n */\r\nLongPrototype.getHighBitsUnsigned = function getHighBitsUnsigned() {\r\n    return this.high >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as a signed integer.\r\n * @returns {number} Signed low bits\r\n */\r\nLongPrototype.getLowBits = function getLowBits() {\r\n    return this.low;\r\n};\r\n\r\n/**\r\n * Gets the low 32 bits as an unsigned integer.\r\n * @returns {number} Unsigned low bits\r\n */\r\nLongPrototype.getLowBitsUnsigned = function getLowBitsUnsigned() {\r\n    return this.low >>> 0;\r\n};\r\n\r\n/**\r\n * Gets the number of bits needed to represent the absolute value of this Long.\r\n * @returns {number}\r\n */\r\nLongPrototype.getNumBitsAbs = function getNumBitsAbs() {\r\n    if (this.isNegative()) // Unsigned Longs are never negative\r\n        return this.eq(MIN_VALUE) ? 64 : this.neg().getNumBitsAbs();\r\n    var val = this.high != 0 ? this.high : this.low;\r\n    for (var bit = 31; bit > 0; bit--)\r\n        if ((val & (1 << bit)) != 0)\r\n            break;\r\n    return this.high != 0 ? bit + 33 : bit + 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isZero = function isZero() {\r\n    return this.high === 0 && this.low === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals zero. This is an alias of {@link Long#isZero}.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eqz = LongPrototype.isZero;\r\n\r\n/**\r\n * Tests if this Long's value is negative.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isNegative = function isNegative() {\r\n    return !this.unsigned && this.high < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is positive.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isPositive = function isPositive() {\r\n    return this.unsigned || this.high >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is odd.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isOdd = function isOdd() {\r\n    return (this.low & 1) === 1;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is even.\r\n * @returns {boolean}\r\n */\r\nLongPrototype.isEven = function isEven() {\r\n    return (this.low & 1) === 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.equals = function equals(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.unsigned !== other.unsigned && (this.high >>> 31) === 1 && (other.high >>> 31) === 1)\r\n        return false;\r\n    return this.high === other.high && this.low === other.low;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value equals the specified's. This is an alias of {@link Long#equals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.eq = LongPrototype.equals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.notEquals = function notEquals(other) {\r\n    return !this.eq(/* validates */ other);\r\n};\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.neq = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value differs from the specified's. This is an alias of {@link Long#notEquals}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ne = LongPrototype.notEquals;\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThan = function lessThan(other) {\r\n    return this.comp(/* validates */ other) < 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than the specified's. This is an alias of {@link Long#lessThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lt = LongPrototype.lessThan;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lessThanOrEqual = function lessThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) <= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.lte = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is less than or equal the specified's. This is an alias of {@link Long#lessThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.le = LongPrototype.lessThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThan = function greaterThan(other) {\r\n    return this.comp(/* validates */ other) > 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than the specified's. This is an alias of {@link Long#greaterThan}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gt = LongPrototype.greaterThan;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.greaterThanOrEqual = function greaterThanOrEqual(other) {\r\n    return this.comp(/* validates */ other) >= 0;\r\n};\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.gte = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Tests if this Long's value is greater than or equal the specified's. This is an alias of {@link Long#greaterThanOrEqual}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {boolean}\r\n */\r\nLongPrototype.ge = LongPrototype.greaterThanOrEqual;\r\n\r\n/**\r\n * Compares this Long's value with the specified's.\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.compare = function compare(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    if (this.eq(other))\r\n        return 0;\r\n    var thisNeg = this.isNegative(),\r\n        otherNeg = other.isNegative();\r\n    if (thisNeg && !otherNeg)\r\n        return -1;\r\n    if (!thisNeg && otherNeg)\r\n        return 1;\r\n    // At this point the sign bits are the same\r\n    if (!this.unsigned)\r\n        return this.sub(other).isNegative() ? -1 : 1;\r\n    // Both are positive if at least one is unsigned\r\n    return (other.high >>> 0) > (this.high >>> 0) || (other.high === this.high && (other.low >>> 0) > (this.low >>> 0)) ? -1 : 1;\r\n};\r\n\r\n/**\r\n * Compares this Long's value with the specified's. This is an alias of {@link Long#compare}.\r\n * @function\r\n * @param {!Long|number|string} other Other value\r\n * @returns {number} 0 if they are the same, 1 if the this is greater and -1\r\n *  if the given one is greater\r\n */\r\nLongPrototype.comp = LongPrototype.compare;\r\n\r\n/**\r\n * Negates this Long's value.\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.negate = function negate() {\r\n    if (!this.unsigned && this.eq(MIN_VALUE))\r\n        return MIN_VALUE;\r\n    return this.not().add(ONE);\r\n};\r\n\r\n/**\r\n * Negates this Long's value. This is an alias of {@link Long#negate}.\r\n * @function\r\n * @returns {!Long} Negated Long\r\n */\r\nLongPrototype.neg = LongPrototype.negate;\r\n\r\n/**\r\n * Returns the sum of this and the specified Long.\r\n * @param {!Long|number|string} addend Addend\r\n * @returns {!Long} Sum\r\n */\r\nLongPrototype.add = function add(addend) {\r\n    if (!isLong(addend))\r\n        addend = fromValue(addend);\r\n\r\n    // Divide each number into 4 chunks of 16 bits, and then sum the chunks.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = addend.high >>> 16;\r\n    var b32 = addend.high & 0xFFFF;\r\n    var b16 = addend.low >>> 16;\r\n    var b00 = addend.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 + b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 + b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 + b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 + b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long.\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.subtract = function subtract(subtrahend) {\r\n    if (!isLong(subtrahend))\r\n        subtrahend = fromValue(subtrahend);\r\n    return this.add(subtrahend.neg());\r\n};\r\n\r\n/**\r\n * Returns the difference of this and the specified Long. This is an alias of {@link Long#subtract}.\r\n * @function\r\n * @param {!Long|number|string} subtrahend Subtrahend\r\n * @returns {!Long} Difference\r\n */\r\nLongPrototype.sub = LongPrototype.subtract;\r\n\r\n/**\r\n * Returns the product of this and the specified Long.\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.multiply = function multiply(multiplier) {\r\n    if (this.isZero())\r\n        return ZERO;\r\n    if (!isLong(multiplier))\r\n        multiplier = fromValue(multiplier);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = wasm.mul(this.low,\r\n                           this.high,\r\n                           multiplier.low,\r\n                           multiplier.high);\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (multiplier.isZero())\r\n        return ZERO;\r\n    if (this.eq(MIN_VALUE))\r\n        return multiplier.isOdd() ? MIN_VALUE : ZERO;\r\n    if (multiplier.eq(MIN_VALUE))\r\n        return this.isOdd() ? MIN_VALUE : ZERO;\r\n\r\n    if (this.isNegative()) {\r\n        if (multiplier.isNegative())\r\n            return this.neg().mul(multiplier.neg());\r\n        else\r\n            return this.neg().mul(multiplier).neg();\r\n    } else if (multiplier.isNegative())\r\n        return this.mul(multiplier.neg()).neg();\r\n\r\n    // If both longs are small, use float multiplication\r\n    if (this.lt(TWO_PWR_24) && multiplier.lt(TWO_PWR_24))\r\n        return fromNumber(this.toNumber() * multiplier.toNumber(), this.unsigned);\r\n\r\n    // Divide each long into 4 chunks of 16 bits, and then add up 4x4 products.\r\n    // We can skip products that would overflow.\r\n\r\n    var a48 = this.high >>> 16;\r\n    var a32 = this.high & 0xFFFF;\r\n    var a16 = this.low >>> 16;\r\n    var a00 = this.low & 0xFFFF;\r\n\r\n    var b48 = multiplier.high >>> 16;\r\n    var b32 = multiplier.high & 0xFFFF;\r\n    var b16 = multiplier.low >>> 16;\r\n    var b00 = multiplier.low & 0xFFFF;\r\n\r\n    var c48 = 0, c32 = 0, c16 = 0, c00 = 0;\r\n    c00 += a00 * b00;\r\n    c16 += c00 >>> 16;\r\n    c00 &= 0xFFFF;\r\n    c16 += a16 * b00;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c16 += a00 * b16;\r\n    c32 += c16 >>> 16;\r\n    c16 &= 0xFFFF;\r\n    c32 += a32 * b00;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a16 * b16;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c32 += a00 * b32;\r\n    c48 += c32 >>> 16;\r\n    c32 &= 0xFFFF;\r\n    c48 += a48 * b00 + a32 * b16 + a16 * b32 + a00 * b48;\r\n    c48 &= 0xFFFF;\r\n    return fromBits((c16 << 16) | c00, (c48 << 16) | c32, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the product of this and the specified Long. This is an alias of {@link Long#multiply}.\r\n * @function\r\n * @param {!Long|number|string} multiplier Multiplier\r\n * @returns {!Long} Product\r\n */\r\nLongPrototype.mul = LongPrototype.multiply;\r\n\r\n/**\r\n * Returns this Long divided by the specified. The result is signed if this Long is signed or\r\n *  unsigned if this Long is unsigned.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.divide = function divide(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n    if (divisor.isZero())\r\n        throw Error('division by zero');\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        // guard against signed division overflow: the largest\r\n        // negative number / -1 would be 1 larger than the largest\r\n        // positive number, due to two's complement.\r\n        if (!this.unsigned &&\r\n            this.high === -0x80000000 &&\r\n            divisor.low === -1 && divisor.high === -1) {\r\n            // be consistent with non-wasm code path\r\n            return this;\r\n        }\r\n        var low = (this.unsigned ? wasm.div_u : wasm.div_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    if (this.isZero())\r\n        return this.unsigned ? UZERO : ZERO;\r\n    var approx, rem, res;\r\n    if (!this.unsigned) {\r\n        // This section is only relevant for signed longs and is derived from the\r\n        // closure library as a whole.\r\n        if (this.eq(MIN_VALUE)) {\r\n            if (divisor.eq(ONE) || divisor.eq(NEG_ONE))\r\n                return MIN_VALUE;  // recall that -MIN_VALUE == MIN_VALUE\r\n            else if (divisor.eq(MIN_VALUE))\r\n                return ONE;\r\n            else {\r\n                // At this point, we have |other| >= 2, so |this/other| < |MIN_VALUE|.\r\n                var halfThis = this.shr(1);\r\n                approx = halfThis.div(divisor).shl(1);\r\n                if (approx.eq(ZERO)) {\r\n                    return divisor.isNegative() ? ONE : NEG_ONE;\r\n                } else {\r\n                    rem = this.sub(divisor.mul(approx));\r\n                    res = approx.add(rem.div(divisor));\r\n                    return res;\r\n                }\r\n            }\r\n        } else if (divisor.eq(MIN_VALUE))\r\n            return this.unsigned ? UZERO : ZERO;\r\n        if (this.isNegative()) {\r\n            if (divisor.isNegative())\r\n                return this.neg().div(divisor.neg());\r\n            return this.neg().div(divisor).neg();\r\n        } else if (divisor.isNegative())\r\n            return this.div(divisor.neg()).neg();\r\n        res = ZERO;\r\n    } else {\r\n        // The algorithm below has not been made for unsigned longs. It's therefore\r\n        // required to take special care of the MSB prior to running it.\r\n        if (!divisor.unsigned)\r\n            divisor = divisor.toUnsigned();\r\n        if (divisor.gt(this))\r\n            return UZERO;\r\n        if (divisor.gt(this.shru(1))) // 15 >>> 1 = 7 ; with divisor = 8 ; true\r\n            return UONE;\r\n        res = UZERO;\r\n    }\r\n\r\n    // Repeat the following until the remainder is less than other:  find a\r\n    // floating-point that approximates remainder / other *from below*, add this\r\n    // into the result, and subtract it from the remainder.  It is critical that\r\n    // the approximate value is less than or equal to the real value so that the\r\n    // remainder never becomes negative.\r\n    rem = this;\r\n    while (rem.gte(divisor)) {\r\n        // Approximate the result of division. This may be a little greater or\r\n        // smaller than the actual value.\r\n        approx = Math.max(1, Math.floor(rem.toNumber() / divisor.toNumber()));\r\n\r\n        // We will tweak the approximate result by changing it in the 48-th digit or\r\n        // the smallest non-fractional digit, whichever is larger.\r\n        var log2 = Math.ceil(Math.log(approx) / Math.LN2),\r\n            delta = (log2 <= 48) ? 1 : pow_dbl(2, log2 - 48),\r\n\r\n        // Decrease the approximation until it is smaller than the remainder.  Note\r\n        // that if it is too large, the product overflows and is negative.\r\n            approxRes = fromNumber(approx),\r\n            approxRem = approxRes.mul(divisor);\r\n        while (approxRem.isNegative() || approxRem.gt(rem)) {\r\n            approx -= delta;\r\n            approxRes = fromNumber(approx, this.unsigned);\r\n            approxRem = approxRes.mul(divisor);\r\n        }\r\n\r\n        // We know the answer can't be zero... and actually, zero would cause\r\n        // infinite recursion since we would make no progress.\r\n        if (approxRes.isZero())\r\n            approxRes = ONE;\r\n\r\n        res = res.add(approxRes);\r\n        rem = rem.sub(approxRem);\r\n    }\r\n    return res;\r\n};\r\n\r\n/**\r\n * Returns this Long divided by the specified. This is an alias of {@link Long#divide}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Quotient\r\n */\r\nLongPrototype.div = LongPrototype.divide;\r\n\r\n/**\r\n * Returns this Long modulo the specified.\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.modulo = function modulo(divisor) {\r\n    if (!isLong(divisor))\r\n        divisor = fromValue(divisor);\r\n\r\n    // use wasm support if present\r\n    if (wasm) {\r\n        var low = (this.unsigned ? wasm.rem_u : wasm.rem_s)(\r\n            this.low,\r\n            this.high,\r\n            divisor.low,\r\n            divisor.high\r\n        );\r\n        return fromBits(low, wasm.get_high(), this.unsigned);\r\n    }\r\n\r\n    return this.sub(this.div(divisor).mul(divisor));\r\n};\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.mod = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns this Long modulo the specified. This is an alias of {@link Long#modulo}.\r\n * @function\r\n * @param {!Long|number|string} divisor Divisor\r\n * @returns {!Long} Remainder\r\n */\r\nLongPrototype.rem = LongPrototype.modulo;\r\n\r\n/**\r\n * Returns the bitwise NOT of this Long.\r\n * @returns {!Long}\r\n */\r\nLongPrototype.not = function not() {\r\n    return fromBits(~this.low, ~this.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise AND of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.and = function and(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low & other.low, this.high & other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise OR of this Long and the specified.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.or = function or(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low | other.low, this.high | other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns the bitwise XOR of this Long and the given one.\r\n * @param {!Long|number|string} other Other Long\r\n * @returns {!Long}\r\n */\r\nLongPrototype.xor = function xor(other) {\r\n    if (!isLong(other))\r\n        other = fromValue(other);\r\n    return fromBits(this.low ^ other.low, this.high ^ other.high, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftLeft = function shiftLeft(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits(this.low << numBits, (this.high << numBits) | (this.low >>> (32 - numBits)), this.unsigned);\r\n    else\r\n        return fromBits(0, this.low << (numBits - 32), this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits shifted to the left by the given amount. This is an alias of {@link Long#shiftLeft}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shl = LongPrototype.shiftLeft;\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRight = function shiftRight(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    if ((numBits &= 63) === 0)\r\n        return this;\r\n    else if (numBits < 32)\r\n        return fromBits((this.low >>> numBits) | (this.high << (32 - numBits)), this.high >> numBits, this.unsigned);\r\n    else\r\n        return fromBits(this.high >> (numBits - 32), this.high >= 0 ? 0 : -1, this.unsigned);\r\n};\r\n\r\n/**\r\n * Returns this Long with bits arithmetically shifted to the right by the given amount. This is an alias of {@link Long#shiftRight}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr = LongPrototype.shiftRight;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount.\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shiftRightUnsigned = function shiftRightUnsigned(numBits) {\r\n    if (isLong(numBits))\r\n        numBits = numBits.toInt();\r\n    numBits &= 63;\r\n    if (numBits === 0)\r\n        return this;\r\n    else {\r\n        var high = this.high;\r\n        if (numBits < 32) {\r\n            var low = this.low;\r\n            return fromBits((low >>> numBits) | (high << (32 - numBits)), high >>> numBits, this.unsigned);\r\n        } else if (numBits === 32)\r\n            return fromBits(high, 0, this.unsigned);\r\n        else\r\n            return fromBits(high >>> (numBits - 32), 0, this.unsigned);\r\n    }\r\n};\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shru = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Returns this Long with bits logically shifted to the right by the given amount. This is an alias of {@link Long#shiftRightUnsigned}.\r\n * @function\r\n * @param {number|!Long} numBits Number of bits\r\n * @returns {!Long} Shifted Long\r\n */\r\nLongPrototype.shr_u = LongPrototype.shiftRightUnsigned;\r\n\r\n/**\r\n * Converts this Long to signed.\r\n * @returns {!Long} Signed long\r\n */\r\nLongPrototype.toSigned = function toSigned() {\r\n    if (!this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, false);\r\n};\r\n\r\n/**\r\n * Converts this Long to unsigned.\r\n * @returns {!Long} Unsigned long\r\n */\r\nLongPrototype.toUnsigned = function toUnsigned() {\r\n    if (this.unsigned)\r\n        return this;\r\n    return fromBits(this.low, this.high, true);\r\n};\r\n\r\n/**\r\n * Converts this Long to its byte representation.\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {!Array.<number>} Byte representation\r\n */\r\nLongPrototype.toBytes = function toBytes(le) {\r\n    return le ? this.toBytesLE() : this.toBytesBE();\r\n};\r\n\r\n/**\r\n * Converts this Long to its little endian byte representation.\r\n * @returns {!Array.<number>} Little endian byte representation\r\n */\r\nLongPrototype.toBytesLE = function toBytesLE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        lo        & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo >>> 16 & 0xff,\r\n        lo >>> 24       ,\r\n        hi        & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi >>> 16 & 0xff,\r\n        hi >>> 24\r\n    ];\r\n};\r\n\r\n/**\r\n * Converts this Long to its big endian byte representation.\r\n * @returns {!Array.<number>} Big endian byte representation\r\n */\r\nLongPrototype.toBytesBE = function toBytesBE() {\r\n    var hi = this.high,\r\n        lo = this.low;\r\n    return [\r\n        hi >>> 24       ,\r\n        hi >>> 16 & 0xff,\r\n        hi >>>  8 & 0xff,\r\n        hi        & 0xff,\r\n        lo >>> 24       ,\r\n        lo >>> 16 & 0xff,\r\n        lo >>>  8 & 0xff,\r\n        lo        & 0xff\r\n    ];\r\n};\r\n\r\n/**\r\n * Creates a Long from its byte representation.\r\n * @param {!Array.<number>} bytes Byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @param {boolean=} le Whether little or big endian, defaults to big endian\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytes = function fromBytes(bytes, unsigned, le) {\r\n    return le ? Long.fromBytesLE(bytes, unsigned) : Long.fromBytesBE(bytes, unsigned);\r\n};\r\n\r\n/**\r\n * Creates a Long from its little endian byte representation.\r\n * @param {!Array.<number>} bytes Little endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesLE = function fromBytesLE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[0]       |\r\n        bytes[1] <<  8 |\r\n        bytes[2] << 16 |\r\n        bytes[3] << 24,\r\n        bytes[4]       |\r\n        bytes[5] <<  8 |\r\n        bytes[6] << 16 |\r\n        bytes[7] << 24,\r\n        unsigned\r\n    );\r\n};\r\n\r\n/**\r\n * Creates a Long from its big endian byte representation.\r\n * @param {!Array.<number>} bytes Big endian byte representation\r\n * @param {boolean=} unsigned Whether unsigned or not, defaults to signed\r\n * @returns {Long} The corresponding Long value\r\n */\r\nLong.fromBytesBE = function fromBytesBE(bytes, unsigned) {\r\n    return new Long(\r\n        bytes[4] << 24 |\r\n        bytes[5] << 16 |\r\n        bytes[6] <<  8 |\r\n        bytes[7],\r\n        bytes[0] << 24 |\r\n        bytes[1] << 16 |\r\n        bytes[2] <<  8 |\r\n        bytes[3],\r\n        unsigned\r\n    );\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./node_modules/long/src/long.js"],"sourceRoot":""}